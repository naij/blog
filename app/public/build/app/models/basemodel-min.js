KISSY.add("app/models/basemodel",function(e,t,a,s){return t.extend({parse:function(e){return e},sync:function(t){var a,r=this,o=r.get("url"),n=r.get("options")||{},u=n.type||"GET",i=n.jsonp,l=n.async,p=n.dataType||"json",d=n.noVerify,c=n.restfulType;"GET"===u.toUpperCase()?(r.setUrlParams("t",e.now()),a=r.getUrlParams()):a=r.getPostParams(),/\{.*\}/.test(o)&&(o=e.substitute(o,r["$"+u.toUpperCase()]));var f={url:o,type:c||u,data:a,dataType:p,async:l===!1?!1:!0,success:function(e){if("json"==p){if(d)return void t(null,e);e.info.ok?t(null,{data:e.data}):(s.showGlobalTip(e.info.message),t(a.message||"request error"))}else try{t(null,{data:e.data})}catch(a){s.showGlobalTip(a.message),t(a.message||"request error")}},error:function(e,t,a){403==a.status&&(window.location.href="#!/manage/login")}};return i&&(f.jsonp=i===!0?"_c":i),KISSY.io(f)}})},{requires:["mxext/model","ajax","app/util/util"]});